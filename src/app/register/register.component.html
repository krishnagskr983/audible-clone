<div class="audible_logo-box">
  <div>
    <img src="../../assets/Images/audible_logo.svg" width="150" height="100" />
  </div>
</div>

<div class="container" *ngIf="hideRegister">
  <div class="row justify-content-center">
    <div class="col-md-4">
      <div class="card" style="padding:20px 30px 10px 30px">
        <div class="text-center header-text">
          Create account
        </div>

        <form [formGroup]="registerForm" class="form">
          <div class="form-group">
            <label>
              Full Name
            </label>
            <div class="input-group">
              <input type="text" class="form-control" formControlName="fullName" id="fullName"
                placeholder="Enter full name">
            </div>
            <span class="text-danger"
              *ngIf="registerForm.controls['fullName'].invalid && registerForm.controls['fullName'].touched">
              Name should contain only alphabets!
            </span>
          </div>

          <div class="form-group">
            <label>Email</label>
            <div class="input-group">
              <input type="email" class="form-control" formControlName="emailId" id="emailId"
                placeholder="Enter email address">
            </div>
            <span class="text-danger"
              *ngIf="registerForm.controls['emailId'].invalid && registerForm.controls['emailId'].touched">
              Email id should be in valid format(example@abc.in or example@abc.in)
            </span>
          </div>

          <div class="form-group">
            <label>Password</label>
            <div class="input-group">
              <input type="text" class="form-control" formControlName="password" id="password"
                placeholder="Enter password">
            </div>
            <span class="text-danger"
              *ngIf="registerForm.controls['password'].invalid && registerForm.controls['password'].touched">
              please provide a valid password!
            </span>
            <div *ngIf="registerForm.controls['password'].errors?.['minlength']!=undefined 
             || registerForm.controls['password'].errors?.['maxlength']!=undefined
             || registerForm.controls['password'].errors?.['lowercase']!=undefined
             || registerForm.controls['password'].errors?.['uppercase']!=undefined
             || registerForm.controls['password'].errors?.['digit']!=undefined
             || registerForm.controls['password'].errors?.['special']!=undefined
    ">
              <div [ngClass]="registerForm.controls['password'].errors?.['lowercase']?'text-danger':'text-success'"
                *ngIf="registerForm.controls['password'].touched">
                Must contain at least 1 lowercase!
              </div>

              <div [ngClass]="registerForm.controls['password'].errors?.['digit']?'text-danger':'text-success'"
                *ngIf="registerForm.controls['password'].touched">
                Must contain at least 1 digit!
              </div>

              <div [ngClass]="registerForm.controls['password'].errors?.['uppercase']?'text-danger':'text-success'"
                *ngIf="registerForm.controls['password'].touched">
                Must contain at least 1 uppercase!
              </div>

              <div [ngClass]="registerForm.controls['password'].errors?.['special']?'text-danger':'text-success'"
                *ngIf="registerForm.controls['password'].touched">
                Must contain at least 1 special character!
              </div>

              <div
                [ngClass]="registerForm.controls['password'].errors?.['minlength']!=undefined || this.registerForm.controls['password'].value.length<7?'text-danger':'text-success'"
                *ngIf="registerForm.controls['password'].touched">
                Must contain at least 7 characters!
              </div>
              <div
                [ngClass]="registerForm.controls['password'].errors?.['maxlength']!=undefined || this.registerForm.controls['password'].value.length>20?'text-danger':'text-success'"
                *ngIf="registerForm.controls['password'].touched">
                Must contain at most 20 characters!
              </div>
            </div>
          </div>

          <div class="form-group">
            <label>Mobile Number</label>
            <div class="input-group">
              <input type="text" class="form-control" formControlName="contactNumber" id="contactNumber"
                placeholder="Enter mobile number">
            </div>
            <span class="text-danger"
              *ngIf="registerForm.controls['contactNumber'].invalid && registerForm.controls['contactNumber'].touched">
              Mobile Number should contain 10 digits starting with 6,7,8 or 9!
            </span>
          </div>

          <div class="form-group">
            <label>Gender</label>
            <div class="input-group">
              <select type="text" class="form-control" formControlName="gender" id="gender">
                <option value="">--Select your gender--</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">other</option>
              </select>
            </div>
            <span class="text-danger"
              *ngIf="registerForm.controls['gender'].errors?.['required'] && registerForm.controls['gender'].touched">
              Select your gender!
            </span>
          </div>

          <div class="form-group">
            <label>Date of Birth</label>
            <div class="input-group">
              <input type="date" class="form-control" formControlName="dateOfBirth" id="dateOfBirth">
            </div>
            <span class="text-danger"
              *ngIf="registerForm.controls['dateOfBirth'].errors?.['required'] && registerForm.controls['dateOfBirth'].touched">
              Date of Birth is required!
            </span>
            <span class="text-danger"
              *ngIf="registerForm.controls['dateOfBirth'].errors?.['futureDate'] && registerForm.controls['dateOfBirth'].touched">
              Date of Birth cannot be in the future!
            </span>
            <span class="text-danger"
              *ngIf="registerForm.controls['dateOfBirth'].errors?.['underAge'] && registerForm.controls['dateOfBirth'].touched">
              You must be at least 18 years old!
            </span>
          </div>

          <div class="form-group">
            <div class="d-flex justify-content-center">
              <button class="btn btn-success" type="submit" [disabled]="!registerForm.valid || registerForm.pristine"
                (click)="register()" style="color:rgb(242,239,235)">
                Register
              </button>
            </div>
          </div>

          <div class="login-box">
            <p class="text-secondary">
              Already have an account?
              <button class="login-link" type="button" (click)="loginPage()">Login</button>
            </p>
          </div>

        </form>

      </div>
    </div>
  </div>
</div>

<div *ngIf="registerSuccess" class="register-modal">
  <div class="row col-md-4 register-box">
    <img src="../../assets/Images/reg-success_logo.png" alt="register_success_logo" width="240" height="280">
    <p class="text-success pop-msg text-center">Registered Successfully!</p>
    <button class="btn btn-success pop-btn" routerLink="/login">Login</button>
  </div>
</div>

<div *ngIf="registerFailure" class="register-modal">
  <div class="row col-md-4 register-box">
    <img src="../../assets/Images/reg-failure_logo.png" alt="register_failure_logo" width="240" height="280">
    <p class="text-danger pop-msg text-center">Email Id already exists!</p>
    <button class="btn btn-danger pop-btn" (click)="hideFailure()">Ok</button>
  </div>
</div>